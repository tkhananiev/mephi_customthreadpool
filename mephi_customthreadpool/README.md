# Custom Thread Pool Executor

## ðŸ“Œ ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

ÐŸÑ€Ð¾ÐµÐºÑ‚ Ñ€ÐµÐ°Ð»Ð¸Ð·ÑƒÐµÑ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ð¹ Ð¿ÑƒÐ» Ð¿Ð¾Ñ‚Ð¾ÐºÐ¾Ð² (`CustomExecutor`) Ñ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸:

- Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ **corePoolSize** Ð¸ **maxPoolSize**;
- Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð¶Ð¸Ð·Ð½Ð¸ Ð»Ð¸ÑˆÐ½Ð¸Ñ… Ð¿Ð¾Ñ‚Ð¾ÐºÐ¾Ð² (**keepAliveTime**);
- Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð½Ð° Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð¾Ñ‡ÐµÑ€ÐµÐ´ Ð·Ð°Ð´Ð°Ñ‡ (**queueSize**);
- Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‡Ð¸ÑÐ»Ð° "Ð¶Ð¸Ð²Ñ‹Ñ…" Ð¿Ð¾Ñ‚Ð¾ÐºÐ¾Ð² (**minSpareThreads**);
- graceful shutdown â€” ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡ Ð¿ÐµÑ€ÐµÐ´ Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¾Ð¹ Ð¿ÑƒÐ»Ð°;
- Ð¾Ñ‚ÐºÐ°Ð· Ð·Ð°Ð´Ð°Ñ‡ Ð¿Ñ€Ð¸ Ð¿ÐµÑ€ÐµÐ³Ñ€ÑƒÐ·ÐºÐµ (Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº `RejectedExecutionHandler`).

## ðŸ§© Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

- `Main.java` â€” Ð·Ð°Ð¿ÑƒÑÐº, ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¿ÑƒÐ»Ð°, Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð·Ð°Ð´Ð°Ñ‡.
- `MyExecutor.java` â€” Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð³Ð¾ thread poolâ€™Ð°.
- `Worker.java` â€” Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð·Ð°Ð´Ð°Ñ‡ Ð² Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¾Ñ‚Ð¾ÐºÐ°Ñ….
- `MyThreadFactory.java` â€” ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ñ‹Ð¹ `ThreadFactory` Ñ Ñ‡Ð¸Ñ‚Ð°ÐµÐ¼Ñ‹Ð¼Ð¸ Ð¸Ð¼ÐµÐ½Ð°Ð¸Ð¼ Ð¿Ð¾Ñ‚Ð¾ÐºÐ¾Ð².
- `CustomExecutor.java` â€” Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ð¾Ð³Ð¾ Ð¿ÑƒÐ»Ð°.

## ðŸš€ ÐšÐ°Ðº Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ

1. Ð¡Ð¾Ð±Ñ€Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð² IDE (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, IntelliJ IDEA)
2. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ `Main.java`

ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° ÑÐ¾Ð·Ð´Ð°ÑÑ‚ Ð¿ÑƒÐ», Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ 10 Ð·Ð°Ð´Ð°Ñ‡ Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ ÐºÐ¾Ð³Ð´Ð° Ð²ÑÑ‘ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ.

## ðŸ”§ ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸

```java
MyExecutor executor = new MyExecutor(
    2,                 // corePoolSize
    4,                 // maxPoolSize
    5,                 // keepAliveTime
    TimeUnit.SECONDS,  // timeUnit
    5,                 // queueSize
    1                  // minSpareThreads
);
```

## ðŸ“¤ ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¿ÐµÑ€ÐµÐ³Ñ€ÑƒÐ·ÐºÐ¸

Ð•ÑÐ»Ð¸ Ð¾Ñ‡ÐµÑ€ÐµÐ´ÑŒ Ð·Ð°Ð´Ð°Ñ‡ Ð¿Ð¾Ð»Ð½Ð°Ñ, Ð° Ð²ÑÐµ Ð¿Ð¾Ñ‚Ð¾ÐºÐ¸ Ð·Ð°Ð½ÑÑ‚Ñ‹ Ð¸ Ð½Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½ÐµÐ»ÑŒÐ·Ñ (Ð»Ð¸Ð¼Ð¸Ñ‚ `maxPoolSize`), Ð·Ð°Ð´Ð°Ñ‡Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð° Ð¸ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ Ð²Ñ‹Ð²ÐµÐ´Ð¸Ñ‚ÑÑ:

```
[Rejected] Task was rejected due to overload: ...
```

## ðŸ“Ž ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð²Ñ‹Ð²Ð¾Ð´Ð°

```
>> Ð—Ð°Ð´Ð°Ñ‡Ð° 1 Ð½Ð°Ñ‡Ð°Ð»Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð² Ð¿Ð¾Ñ‚Ð¾ÐºÐµ MyPool-worker-1
<< Ð—Ð°Ð´Ð°Ñ‡Ð° 1 Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð° Ð² Ð¿Ð¾Ñ‚Ð¾ÐºÐµ MyPool-worker-1
...
Ð’ÑÐµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ñ‹. ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°.
```
